240422 정보처리기사 공부

# 3. 데이터베이스 구축

## DCL(Data Control Language, 데이터 제어어)

- COMMIT : 명령에 의해 수행된 결과를 실제 물리적 디스크로 저장하고 데이터베이스 조작 작업이 정상적으로 완료되었음을 관리자에게 알려줌
- ROLLBACK : 데이터베이스 조작 작업이 비정상적으로 종료되었을 때 원래의 상태로 복구함
- GRANT : 데이터베이스 사용자에게 사용 권한을 부여함
- REVOKE : 데이터베이스 사용자의 사용 권한을 취소함

## 트랜잭션의 성질

- 일관성(Consistency) : 트랜잭션의 그 실행을 성공적으로 완료하면 언제나 일관성있는 데이터베이스 상태로 변환한다.
- 원자성(Atomicity) : 트랜잭션의 연산은 데이터베이스에 모두 반영되도록 완료(Commit)되는지 아니면 전혀 반영되지 않도록 복구 되어야한다.
- 독립성,격리성,순차성(Isolation) : 둘 이상의 트랜잭션이 동시에 병행 실행되는 경우 어느 하나의 트랜잭션 실행중에 다른 트랜잭션의 연산이 끼어들 수 있다.
- 영속석,지속성(Durability) : 성공적으로 완료된 트랜잭션의 결과는 시스템이 고장나더라도 영구적으로 반영되어야함.

## DDL문

- DDL(데이터 정의어) : CREATE, ALTER , DROP
- DML(데이터 조작어) : SELECT, UPDATE, INSERT , DELETE
- DCL(데이터 제어어) : COMMIT, ROLLBACK , GRANT, REVOKE

## 정규화

- 정규화란 잘못 설계된 관계형 스키마를 더 작은 속성의 세트로 쪼개어 바람직한 스키마로 만들어가는 과정
- 데이터 구조의 안정성 및 무결성 유지
- 어떠한 릴레이션이라도 데이터베이스 내에서 표현가능하게 만든다.
- 효과적인 검색 알고리즘을 생성할 수 있다.
- 데이터 중복을 배제하여 이상의 발생 방지 및 자료 저장공간의 최소화
- 데이터 삽입 시 릴레이션을 재구성할 필요성을 줄인다.
- 데이터 모형의 단순화가 가능하다.
- 속성의 배열 상태 검증이 가능하다.
- 개체와 속성의 누락 여부 확인이 가능하다.
- 자료 검색과 추출의 효율성을 추구한다.

## 삽입문
일반 형식 : INSERT INTO (속성명1,속성명2) VALUE ('문자열',1,'')

- 대응하는 속성과 데이터는 개수와 데이터 유형이 일치해야함
- 기본 테이블의 모든 속성을 사용할때는 속성명을 생략할 수 있음
- SELECT문을 사용하여 다른 테이블의 검색 결과를 삽입할 수 있다.

## 갱신문
일반 형식 : UPDATE 테이블명 SET 속성명=데이터 WHERE 조건

기본테이블에 있는 튜플중에서 특정 튜플의 내용을 변경할 때 사용한다.

## 뷰의 개념
사용자에게 접근이 허용된 자료만을 제한적으로 보여주기 위해 하나 이상의 기본 테이블로부터 유도된 이름을 가지는 가상테이블
저장장치 내에 물리적으로 존재하지 않지만 사용자에게는 있는 것처럼 간주된다.

특징 : 
- 기본 테이블과 구조와 조작이 같다.
- 물리적으로 구현되어있지 않다
- 데이터의 논리적 독립성을 제공할 수 있다.
- 필요한 데이터만 뷰로 정의해서 처리할 수 있기 때문에 관리가 용이하고 명령문이 간단해진다.
- 뷰에 나타나지않는 데이터를 안전하게 보호하는 효율적인 기법으로 사용할 수 있따.
- 기본 테이블의 기본키를 포함한 속성 집합으로 뷰를 구성해야만 삽입,삭제,갱신 연산이 가능하다.
- 일단 정의된 뷰는 다른 뷰의 정의에 기초가 될 수 있다.
- 뷰가 정의된 기본 테이블이나 뷰를 삭제하면 그 테이블을 기초로 정의된 다른 뷰도 삭제됨

## 트랜잭션의 상태

- 활동(Active) : 트랜잭션이 실행중인 상태
- 실패(Failed) : 트랜잭션 실행에 오류가 발생해 중단된 상태
- 철회(Aborted) : 트랜잭션이 비정상적으로 죵료되어 Rollback 연산을 수행한 상태
- 부분 완료(Partially Committed) : 트랜잭션을 모두 성공적으로 실행한 후 Commit 연산이 실행되기 직전인 상태
- 완료 (Committed) : 트랜잭션을 모두 성공적으로 실행한 후의 상태

## 로킹 기법

- 2단계 로킹 규약 : 새로운 Lock은 수행할 수 있지만 Unlock은 수행할 수 없는 확장 단계와 새로운 Unlock은 수행할 수있지만 Lock은 수행할 수 없는 축소 단계가 있다
- 직렬성을 보장하는 장점이 있지만 교착상태를 예방할 수 없다는 단점이 있다.


## 키의 개념

- 슈퍼키 : 릴레이션을 구성하는 모든 튜프에 대하 유일성은 만족하지만 최소성은 만족하지 못한다.
- 후보키 : 튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분집합, 유일성과 최소성을 모두 만족한다.
- 기본키 : 후보키 중에서 특별히 선정된 키로 중복된 값과 NULL값을 가질 수 없다.
- 대체키 : 후보키 중에서 선정도니 키본키를 제외한 나머지 후보키
- 외래키 : 참조 무결성과 관련이 있다, 릴레이션 간의 관계를 표현할 때 사용한다, 기본키의 일부가 외래키가 될 수 있다.

## 릴레이션 특징

- 한 릴레이션에 포함된 튜플들은 모두 상이하다
- 한 릴레이션에 포함된 튜플 사이에는 순서가 없다
- 튜플들의 삽입,삭제 등의 작업으로 인해 릴레이션은 시간에 따라 변한다
- 릴레이션 스키마를 구성하는 속성들 간의 순서는 중요하지 않다
- 속성의 명칭은 유일하지만 구성하는 값은 동일한 값이 있을 수 있다
- 릴레이션을 구성하는 튜플을 유일하게 식별하기 위해 속성들의 부분 집합을 키로 설정한다.
- 속성은 더이상 쪼갤 수 없는 원자값만을 저장한다.

## 관계 해석

- 관계 데이터의 연산을 표현하는 방법으로 원하는 정보를 정의할때는 계산 수식을 사용한다.
- 원하는 정보가 무엇이라는 것만 정의하는 비절차적 특성을 지닌다
- 튜플 관계해석과 도메인 관계해석있다.
- 기본적으로 관계해석과 관계대수는 관계 데이터베이스를 처리하는 기능과 능력면에서 동등하며 관계대수로 표현하는 식은 관계해석으로 표현할 수 있다.
- 질의어로 표현한다.


## 카티션 프로덕트(교차곱)

- 차수(속성의 수) : 두 릴레이션의 차수를 더한다
- 카디널리티(튜플의 수) : 두 릴레이션의 차수를 곱한다.

## 관계 대수
- π name1,name2 : SELECT name1,name2
- σ name1=3 : WHERE name=3
- (name1) : <student> 테이블의 자료를 검색하므로 FROM student


## 개체-관계 모델

- 사각형 - 개체타입
- 마름모 - 관계타입
- 타원 - 속성
- 이중타원 - 다중값(복합) 속성
- 밑줄타원 - 기본키 속성
- 복수 타원 - 복합 속성
- 선, 링크 - 개체 타입과 속성을 연결

## 분산 데이터베이스

논리적으로는 같은 시스템에 속하지만 물리적으로는 컴퓨터 네트워크를 통해  분산되어있는 데이터베이스

### 목표

- 위치투명성 : 단지 데이터베이스의 논리적인 명칭만으로 접근할 수 있다
- 중복투명성 : 동일한 데이터가 여러곳에 중복되어 있더라도 사용자는 마치 하나의 데이터만 존재하는 것처럼 사용할 수 있다.
- 병행투명성 : 다수의 트랜잭션들이 동시에 실행되더라도 트랜잭션들의 수행결과는 서로 영향을 받진 않음
- 장애투명성 : 트랜잭션,DBMS,네트워크,컴퓨터 장애에도 불구하고 트랜잭션은 정확하게 수행됨

### 구성요소

- 분산 처리기 : 자체적으로 처리능력을 가지며 지리적으로 분산되어있는 컴퓨터 시스템
- 분산 데이터베이스: 지리적으로 분산되어있는 데이터베이스로서 해당 지역의 특성에 맞게 데이터베이스가 구성됨
- 통신 네트워크 : 분산처리기들을 통신망으로 연결하여 노리적으로 하나의 시스템처럼 작동할 수 있도록 함

### 장,단점

- 장점 : 지역 자치성이 높음, 자료의 공유성 향상, 분산제어 가능, 시스템 성능 향상,중앙컴퓨터의 장애가 전체시스템에 영향을 끼치지않음
효용성과 융통성이 높음, 신뢰성 및 가용성이 높음, 점진적 시스템 용량 확장이 용이

- 단점 : 보안관리가 어렵다, 데이터 무결성 관리가 어렵다 , 관리와 통제가 어렵다

## 반정규화(Denormalization)

- 의도적으로 정규화 원칙을 위배하는 행위
- 성능이 향상되고 관리효율성이 증가하지만 데이터의 일관성 및 정합성이 저하될 수 있다
- 과도한 반정규화는 오히려 성능저하를 일으킨다
- 데이터의 일관성과 무결성을 우선으로할지 데이터베이스의 성능과 단순화를 우선으로 할지 결정해야한다
- 테이블 통합,테이블 분할,중복테이블추가,중복속성추가 등의 방법이 있다

## 시스템 카탈로그

- 시스템 그 자체에 관련이 있는 다양한 객체에 관한 정보를 포함하는 시스템 데이터 베이스이다
- 카탈로그들이 생성되면 데이터 사전(Data Dictionary)에 저장되기 때문에 좁은 의미로는 카탈로그를 데이터사전이라고도 한다
- 시스템 카탈로그에 저장된 정보를 메타데이터라고한다
- 일반 이용자도 SQL을 이용해 검색해볼수있고, INSERT DELETE UPDARE문으로 카탈로그를 갱신하는 것은 허용되지않는다
- 데이터베이스 시스템에 따라 상이한 구조를 갖는다
- 카탈로그는 DBMS가 스스로 생성하고 유지한다


